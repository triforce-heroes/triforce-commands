import{BufferConsumer as e}from"@triforce-heroes/triforce-core/BufferConsumer";import{CommandsMatcher as r}from"../CommandsMatcher.js";import{Driver as t}from"../Driver.js";import{EntryDefinition as n}from"../entries/EntryDefinition.js";let i=/[\u000E\uE000-\uEFFF]/u,o=new r(e=>i.test(e),(e,r)=>{let t=i.exec(e.slice(r));return null===t?-1:t.index+r});o.addExpression(/[\uE000-\uEFFF]/),o.addExpression(/\u000E..(.)/u,e=>e[1].codePointAt(0)/2),o.addFailureLiteral("\x0e");export const ZTFH=new t("ZTFH",e=>o.match(e),r=>{if(1===r.length)return new n(r,{type:"button",subtype:r});let t=new e(Buffer.from(r,"binary"),1),i=t.readUnsignedInt8();return new n(r,{type:i,subtype:t.readUnsignedInt8(),attributes:t.readLengthPrefixedString(1)})});