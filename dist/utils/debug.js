import{EntryCommand as e}from"../entries/EntryCommand.js";import{EntryCommandUnknown as n}from"../entries/EntryCommandUnknown.js";export function debugEntries(o,t,r,s=!1){let a=new Set,m=new Map;for(let s of t)for(let t of o.parseRaw(s).entries)t instanceof n?a.add(t.command.slice(0,r)):t instanceof e&&(m.has(t.command)||m.set(t.command,[]),m.get(t.command).push(s));let i=new Map;if(s)for(let[n,t]of m.entries()){let r=[];for(let n of t)r.push({raw:n,commandsCounter:o.parseRaw(n).entries.reduce((n,o)=>n+Number(o instanceof e),0)});i.set(n,r.sort((e,n)=>e.commandsCounter-n.commandsCounter||e.raw.length-n.raw.length).map(({raw:e})=>e).slice(0,10))}return{unknowns:[...a].sort(),knowns:[...m.keys()].sort(),samples:[...i.entries()].sort(([e],[n])=>e.localeCompare(n))}}